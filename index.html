<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google OAuth Test</title>
    <script src="https://apis.google.com/js/api.js"></script>
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
        }
        #sign-in-button {
            margin-top: 20px;
        }
    </style>
</head>
<body>

<h2>Google OAuth Test</h2>
<p>Click the button below to sign in with Google:</p>

<!-- Google Sign-In button -->
<div class="g-signin2" data-onsuccess="onSignIn" id="sign-in-button"></div>

<!-- Display User Info after Sign-In -->
<div id="user-info" style="display: none;">
    <h3>Welcome, <span id="user-name"></span></h3>
    <img id="user-image" src="" alt="User Image" style="border-radius: 50%; width: 100px; height: 100px;">
    <p>Email: <span id="user-email"></span></p>
    <p><a href="#" onclick="signOut()">Sign out</a></p>
</div>

<script>
    // Google Client ID (replace with your own)
    const CLIENT_ID = "365428129649-e015ktlfsfksp07i6gv4b64geh12sheb.apps.googleusercontent.com";

    function onSignIn(googleUser) {
        // Get user profile info
        const profile = googleUser.getBasicProfile();
        const userName = profile.getName();
        const userEmail = profile.getEmail();
        const userImage = profile.getImageUrl();

        // Show user info on page
        document.getElementById('user-name').innerText = userName;
        document.getElementById('user-email').innerText = userEmail;
        document.getElementById('user-image').src = userImage;
        document.getElementById('user-info').style.display = 'block';
        document.getElementById('sign-in-button').style.display = 'none'; // Hide sign-in button
    }

    function signOut() {
        const auth2 = gapi.auth2.getAuthInstance();
        auth2.signOut().then(function () {
            document.getElementById('user-info').style.display = 'none';
            document.getElementById('sign-in-button').style.display = 'block'; // Show sign-in button again
        });
    }

    function start() {
        gapi.load('auth2', function() {
            gapi.auth2.init({
                client_id: 365428129649-e015ktlfsfksp07i6gv4b64geh12sheb.apps.googleusercontent.com
            });
        });
    }

    start();
</script>

</body>
</html>
